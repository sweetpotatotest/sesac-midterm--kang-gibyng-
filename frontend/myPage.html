<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q"
    crossorigin="anonymous"></script>


  <title>마이페이지</title>
</head>

<body>
  <div class="container min-vh-100 d-flex justify-content-center align-items-center">
    <div class="w-100" style="max-width: 500px;">
      <form class="bg-white p-4 rounded shadow">
        <h3 class="text-center mb-4">마이페이지</h3>

        <div id="pwCheckSection">
          <div class="input-group mb-3">
            <div class="input-group-text"><i class="bi bi-lock-fill"></i></div>
            <input type="password" class="form-control" id="pwCheck" placeholder="비밀번호 확인">
          </div>
          <div class="d-grid col-6 mx-auto">
            <button type="button" class="btn btn-primary" onclick="checkPw()">확인</button>
          </div>
          <p id="msg" class="mt-3 text-center fw-bold"></p>
        </div>

        <div id="myInfo" class="d-none">
          <div class="input-group mb-3">
            <div class="input-group-text"><i class="bi bi-person-fill"></i></div>
            <input type="text" class="form-control" id="userId" readonly>
          </div>
          <div class="input-group mb-3">
            <div class="input-group-text"><i class="bi bi-envelope-at-fill"></i></div>
            <input type="text" class="form-control" id="userEmail" readonly>
          </div>
          <div class="d-grid">
            <button type="button" class="btn btn-secondary" onclick="logout()">로그아웃</button>
          </div>
        </div>
      </form>
    </div>
  </div>

  <script>
    const id = 123;
    const pw = 4567;
    const access = true;

    // 로그인 체크
    if (!access) {
      alert("로그인이 필요합니다");
      window.location.href = "login.html"; // 로그인 페이지로 강제 이동
    }

    function checkPw() {
      const inputPw = document.getElementById("pwCheck").value;
      const msg = document.getElementById("msg");

      if (4567 === pw) {
        msg.textContent = "비밀번호 확인 완료";
        msg.className = "text-success text-center fw-bold";

        // 비밀번호 입력 영역 숨기고, 마이페이지 정보 보이기
        document.getElementById("pwCheckSection").classList.add("d-none");
        document.getElementById("myInfo").classList.remove("d-none");

        // 아이디, 이메일 데이터 표시
        document.getElementById("userId").value = id;
        document.getElementById("userEmail").value = id + "@example.com";
      } else {
        msg.textContent = "비밀번호가 일치하지 않습니다.";
        msg.className = "text-danger text-center fw-bold";
      }
    }

    function logout() {
      localStorage.removeItem("accesskey"); // 권한 해제
      window.location.href = "login.html"; // 로그인 페이지로 이동
    }

  </script>


</body>

</html>